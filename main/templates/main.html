{% extends 'base.html' %}
{% block title %}Football-Lock Shop{% endblock %}

{% block content %}
<!-- Navbar -->
<nav class="bg-blue-900 text-white px-6 py-4 flex justify-between items-center">
    <div class="text-2xl font-bold">
        <a href="{% url 'main:show_main' %}">Football-Lock Shop</a>
    </div>
    <div class="flex items-center space-x-4">
        <span>{{ name }} - {{ class }}</span>
        <a href="{% url 'main:logout' %}" class="text-red-500 font-semibold hover:text-red-700">Logout</a>
    </div>
</nav>

<!-- Hero / Action Buttons -->
<div class="bg-cover bg-center py-20 text-center text-white relative"
     style="background-image: linear-gradient(rgba(10,22,40,0.5), rgba(74,144,226,0.5)), url('https://cdn.wallpapersafari.com/54/95/dK0DZH.jpg');">

    <h1 class="text-4xl md:text-5xl font-bold mb-6 drop-shadow-lg">Limited Products</h1>
    <a href="{% url 'main:product_list' %}" 
       class="bg-gradient-to-r from-sky-400 to-blue-600 px-6 py-3 rounded-lg font-semibold hover:from-blue-600 hover:to-blue-900 transition">
        See All Products
    </a>
    <p class="mt-4 text-sm">Sesi terakhir login: {{ last_login }}</p>

    <!-- Center Buttons -->
    <div class="mt-6 flex justify-center flex-wrap gap-3">
        <a href="?filter=all">
            <button class="bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700">All Products</button>
        </a>
        <a href="?filter=my">
            <button class="bg-gray-200 text-gray-800 px-4 py-2 rounded-lg hover:bg-gray-300">My Products</button>
        </a>
        <a href="{% url 'main:add_product' %}">
            <button class="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700">Add Product</button>
        </a>
    </div>
</div>

<!-- Product Grid -->
<div class="p-6 max-w-7xl mx-auto">
    {% if products %}
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
        {% for product in products %}
        <div class="bg-white rounded-xl shadow-lg p-4">
            <img src="{{ product.thumbnail }}" alt="{{ product.name }}" class="w-full h-48 object-cover rounded-lg mb-4">
            <h3 class="text-lg font-bold">{{ product.name }}</h3>
            <p class="text-sm text-gray-500">{{ product.category }}</p>
            <p class="text-blue-700 font-semibold mb-3">Rp {{ product.price }}</p>

            <div class="flex space-x-2">
                <a href="{% url 'main:product_detail' product.id %}"
                   class="flex-1 bg-gradient-to-r from-sky-400 to-blue-600 text-white py-2 px-3 rounded-lg text-center hover:from-blue-600 hover:to-blue-900">
                   Detail
                </a>
                <a href="{% url 'main:edit_product' product.id %}"
                   class="flex-1 bg-yellow-500 text-white py-2 px-3 rounded-lg text-center hover:bg-yellow-600">
                   Edit
                </a>
                <a href="{% url 'main:delete_product' product.id %}"
                   class="flex-1 bg-red-600 text-white py-2 px-3 rounded-lg text-center hover:bg-red-800">
                   Delete
                </a>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="text-center mt-10">
        <img src="https://source.unsplash.com/400x300/?empty,box" alt="No Products" class="mx-auto mb-4 rounded-lg shadow">
        <p class="text-gray-600">Belum ada produk.</p>
    </div>
    {% endif %}
</div>

<footer class="bg-black text-white text-center py-4">
    Football-Lock Shop - Made by {{ name }}
</footer>
{% endblock content %}
